<!DOCTYPE html>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<title>Marine Mammal Density Explorer</title>
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link rel="preload" as="style" href="https://fonts.googleapis.com/css2?family=Source+Serif+Pro:ital,wght@0,400;0,600;0,700;1,400;1,600;1,700&amp;display=swap" crossorigin>
<link rel="preload" as="style" href="./_observablehq/theme-air,alt,wide.css">
<link rel="preload" as="style" href="./_observablehq/stdlib/inputs.css">
<link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css2?family=Source+Serif+Pro:ital,wght@0,400;0,600;0,700;1,400;1,600;1,700&amp;display=swap" crossorigin>
<link rel="stylesheet" type="text/css" href="./_observablehq/theme-air,alt,wide.css">
<link rel="stylesheet" type="text/css" href="./_observablehq/stdlib/inputs.css">
<link rel="modulepreload" href="./_observablehq/client.js">
<link rel="modulepreload" href="./_observablehq/runtime.js">
<link rel="modulepreload" href="./_observablehq/stdlib.js">
<link rel="modulepreload" href="./_import/components/plots.f1d31804.js">
<link rel="modulepreload" href="./_npm/@observablehq/plot@0.6.14/_esm.js">
<link rel="modulepreload" href="./_npm/d3-dsv@3.0.1/_esm.js">
<link rel="modulepreload" href="./_observablehq/stdlib/inputs.js">
<link rel="modulepreload" href="./_npm/htl@0.3.1/_esm.js">
<link rel="modulepreload" href="./_npm/isoformat@0.2.1/_esm.js">
<link rel="modulepreload" href="./_npm/d3@7.9.0/_esm.js">
<link rel="modulepreload" href="./_npm/interval-tree-1d@1.0.4/_esm.js">
<link rel="modulepreload" href="./_npm/d3-array@3.2.4/_esm.js">
<link rel="modulepreload" href="./_npm/d3-axis@3.0.0/_esm.js">
<link rel="modulepreload" href="./_npm/d3-brush@3.0.0/_esm.js">
<link rel="modulepreload" href="./_npm/d3-chord@3.0.1/_esm.js">
<link rel="modulepreload" href="./_npm/d3-color@3.1.0/_esm.js">
<link rel="modulepreload" href="./_npm/d3-contour@4.0.2/_esm.js">
<link rel="modulepreload" href="./_npm/d3-delaunay@6.0.4/_esm.js">
<link rel="modulepreload" href="./_npm/d3-dispatch@3.0.1/_esm.js">
<link rel="modulepreload" href="./_npm/d3-drag@3.0.0/_esm.js">
<link rel="modulepreload" href="./_npm/d3-ease@3.0.1/_esm.js">
<link rel="modulepreload" href="./_npm/d3-fetch@3.0.1/_esm.js">
<link rel="modulepreload" href="./_npm/d3-force@3.0.0/_esm.js">
<link rel="modulepreload" href="./_npm/d3-format@3.1.0/_esm.js">
<link rel="modulepreload" href="./_npm/d3-geo@3.1.1/_esm.js">
<link rel="modulepreload" href="./_npm/d3-hierarchy@3.1.2/_esm.js">
<link rel="modulepreload" href="./_npm/d3-interpolate@3.0.1/_esm.js">
<link rel="modulepreload" href="./_npm/d3-path@3.1.0/_esm.js">
<link rel="modulepreload" href="./_npm/d3-polygon@3.0.1/_esm.js">
<link rel="modulepreload" href="./_npm/d3-quadtree@3.0.1/_esm.js">
<link rel="modulepreload" href="./_npm/d3-random@3.0.1/_esm.js">
<link rel="modulepreload" href="./_npm/d3-scale@4.0.2/_esm.js">
<link rel="modulepreload" href="./_npm/d3-scale-chromatic@3.1.0/_esm.js">
<link rel="modulepreload" href="./_npm/d3-selection@3.0.0/_esm.js">
<link rel="modulepreload" href="./_npm/d3-shape@3.2.0/_esm.js">
<link rel="modulepreload" href="./_npm/d3-time@3.1.0/_esm.js">
<link rel="modulepreload" href="./_npm/d3-time-format@4.1.0/_esm.js">
<link rel="modulepreload" href="./_npm/d3-timer@3.0.1/_esm.js">
<link rel="modulepreload" href="./_npm/d3-transition@3.0.1/_esm.js">
<link rel="modulepreload" href="./_npm/d3-zoom@3.0.0/_esm.js">
<link rel="modulepreload" href="./_npm/binary-search-bounds@2.0.5/_esm.js">
<link rel="modulepreload" href="./_npm/internmap@2.0.3/_esm.js">
<link rel="modulepreload" href="./_npm/delaunator@5.0.1/_esm.js">
<link rel="modulepreload" href="./_npm/robust-predicates@3.0.2/_esm.js">
<script type="module">

import {define} from "./_observablehq/client.js";
import {registerFile} from "./_observablehq/stdlib.js";

registerFile("./data/stats_summary.csv", {"name":"./data/stats_summary.csv","mimeType":"text/csv","path":"./_file/data/stats_summary.807f13bc.csv","lastModified":1711118383057});

define({id: "5fff86e6", outputs: ["monthly_plot","species_plot"], body: async () => {
const {monthly_plot, species_plot} = await import("./_import/components/plots.f1d31804.js");

return {monthly_plot,species_plot};
}});

define({id: "3f16b769", inline: true, inputs: ["leaseAreaInput","display"], body: async (leaseAreaInput,display) => {
display(await(
leaseAreaInput
))
}});

define({id: "784664f6", inline: true, inputs: ["bufferInput","display"], body: async (bufferInput,display) => {
display(await(
bufferInput
))
}});

define({id: "107af81a", inline: true, inputs: ["resize","monthly_plot","density","leaseAreaPick","bufferPick","display"], body: async (resize,monthly_plot,density,leaseAreaPick,bufferPick,display) => {
display(await(
resize((width) => monthly_plot(density, leaseAreaPick, bufferPick, {width}))
))
}});

define({id: "5ebbdcaa", inline: true, inputs: ["speciesInput","display"], body: async (speciesInput,display) => {
display(await(
speciesInput
))
}});

define({id: "91060899", inline: true, inputs: ["resize","species_plot","density","leaseAreaPick","speciesPick","display"], body: async (resize,species_plot,density,leaseAreaPick,speciesPick,display) => {
display(await(
resize((width) => species_plot(density, leaseAreaPick, speciesPick, {width}))
))
}});

define({id: "2b4e7127", inputs: ["FileAttachment"], outputs: ["density"], body: (FileAttachment) => {
const density = FileAttachment("./data/stats_summary.csv").csv({typed: true});
return {density};
}});

define({id: "d7f802ca", inputs: ["density","Inputs","Generators"], outputs: ["leaseAreas","leaseAreaInput","leaseAreaPick"], body: (density,Inputs,Generators) => {
const leaseAreas = [... new Set(density.map(d => d.lease_area))];
const leaseAreaInput = Inputs.select(leaseAreas, {label: "Lease Area", width:400});
const leaseAreaPick = Generators.input(leaseAreaInput);

return {leaseAreas,leaseAreaInput,leaseAreaPick};
}});

define({id: "3a95ed8f", inputs: ["density","Inputs","Generators"], outputs: ["speciesNames","speciesInput","speciesPick"], body: (density,Inputs,Generators) => {
const speciesNames = [... new Set(density.map(d => d.species))];
const speciesInput = Inputs.select(speciesNames, 
{ 
  label: "Species",
  format: (s) => `${s.replace(/_/g, ' ')}`

});
const speciesPick = Generators.input(speciesInput);

return {speciesNames,speciesInput,speciesPick};
}});

define({id: "a27fbfb6", inputs: ["density","Inputs","Generators"], outputs: ["bufferSizes","bufferInput","bufferPick"], body: (density,Inputs,Generators) => {
const bufferSizes = [... new Set(density.map(d => d.buffer_size))];
const bufferInput = Inputs.select(bufferSizes, 
{ 
  label: "Buffer size (m)",
  format: (b) => `${b / 1000} km`

});
const bufferPick = Generators.input(bufferInput);

return {bufferSizes,bufferInput,bufferPick};
}});

</script>
<div id="observablehq-center">
<main id="observablehq-main" class="observablehq">
<div id="cell-5fff86e6" class="observablehq observablehq--block"></div>
<style>

.hero {
  display: flex;
  flex-direction: column;
  align-items: center;
  font-family: var(--sans-serif);
  margin: 4rem 0 6rem;
  text-wrap: balance;
  text-align: center;
}

.hero h1 {
  margin: 2rem 0;
  max-width: none;
  font-size: 14vw;
  font-weight: 900;
  line-height: 1;
  background: linear-gradient(30deg, var(--theme-foreground-focus), currentColor);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.hero h2 {
  margin: 0;
  max-width: 34em;
  font-size: 20px;
  font-style: initial;
  font-weight: 500;
  line-height: 1.5;
  color: var(--theme-foreground-muted);
}

@media (min-width: 640px) {
  .hero h1 {
    font-size: 90px;
  }
}

</style>
<div class="hero">
  <h1>Marine mammal density explorer</h1>
  <h2>Explore variations in monthly species density near offshore wind lease areas</h2>
</div>
<div class="grid grid-cols-2" ;="">
  <div class="card">
  <h2><b>Overview</b></h2>
<p>To use this dashboard, you will first need to select a lease area. This will be used for both of the plots.</p>
<p>The first plot allows you to explore how species presence changes over the course of the year. You have the additional option to choose different buffer sizes around the lease area.</p>
<p>The second plot focuses in on a single species, so that you can directly compare the differences arising from different buffer sizes.</p>
  </div>
  <div class="card">
  <h1>Select a lease area</h1>
<p>The lease area that you select here controls both of the plots on this dashboard. These lease areas are based on files downloaded from the BOEM website.</p>
<p><span id="cell-3f16b769" class="observablehq--loading"></span></p>
  </div>
</div>
<div class="grid grid-cols-2" style="grid-auto-rows: 504;">
  <div class="card">
  <span id="cell-784664f6" class="observablehq--loading"></span>
<p><span id="cell-107af81a" class="observablehq--loading"></span></p>
  </div>
  <div class="card">
  <span id="cell-5ebbdcaa" class="observablehq--loading"></span>
<p><span id="cell-91060899" class="observablehq--loading"></span></p>
  </div>
</div>
<div id="cell-2b4e7127" class="observablehq observablehq--block"></div>
<div id="cell-d7f802ca" class="observablehq observablehq--block"></div>
<div id="cell-3a95ed8f" class="observablehq observablehq--block"></div>
<div id="cell-a27fbfb6" class="observablehq observablehq--block"></div>
</main>
<footer id="observablehq-footer">
<div>Â© 2024 Waveform Analytics</div>
</footer>
</div>
